function JetpackLikespostMessage(e,t){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return}pm({target:t,type:"likesMessage",data:e,origin:"*"})}function JetpackLikesBatchHandler(){var e=[];jQuery("div.jetpack-likes-widget-unloaded").each(function(){if(!(jetpackLikesWidgetBatch.indexOf(this.id)>-1)){jetpackLikesWidgetBatch.push(this.id);var t,i=/like-(post|comment)-wrapper-(\d+)-(\d+)-(\w+)/.exec(this.id);i&&5===i.length&&(t={blog_id:i[2],width:this.width},"post"===i[1]?t.post_id=i[3]:"comment"===i[1]&&(t.comment_id=i[3]),t.obj_id=i[4],e.push(t))}}),e.length>0&&JetpackLikespostMessage({event:"initialBatch",requests:e},window.frames["likes-master"])}function JetpackLikesMessageListener(e,t){var i,n,a,r,o,s;void 0!==e.event&&window.location.protocol+"https://widgets.wp.com/"===t.origin&&("masterReady"===e.event&&jQuery(document).ready(function(){jetpackLikesMasterReady=!0;var e={event:"injectStyles"},t=jQuery(".sd-text-color"),i=jQuery(".sd-link-color");jQuery("iframe.admin-bar-likes-widget").length>0&&(JetpackLikespostMessage({event:"adminBarEnabled"},window.frames["likes-master"]),e.adminBarStyles={background:jQuery("#wpadminbar .quicklinks li#wp-admin-bar-wpl-like > a").css("background"),isRtl:"rtl"===jQuery("#wpadminbar").css("direction")}),window.addEventListener||jQuery("#wp-admin-bar-admin-bar-likes-widget").hide(),e.textStyles={color:t.css("color"),fontFamily:t.css("font-family"),fontSize:t.css("font-size"),direction:t.css("direction"),fontWeight:t.css("font-weight"),fontStyle:t.css("font-style"),textDecoration:t.css("text-decoration")},e.linkStyles={color:i.css("color"),fontFamily:i.css("font-family"),fontSize:i.css("font-size"),textDecoration:i.css("text-decoration"),fontWeight:i.css("font-weight"),fontStyle:i.css("font-style")},JetpackLikespostMessage(e,window.frames["likes-master"]),JetpackLikesBatchHandler(),jQuery(document).on("inview","div.jetpack-likes-widget-unloaded",function(){jetpackLikesWidgetQueue.push(this.id)})}),"showLikeWidget"===e.event&&jQuery("#"+e.id+" .post-likes-widget-placeholder").fadeOut("fast",function(){jQuery("#"+e.id+" .post-likes-widget").fadeIn("fast",function(){JetpackLikespostMessage({event:"likeWidgetDisplayed",blog_id:e.blog_id,post_id:e.post_id,obj_id:e.obj_id},window.frames["likes-master"])})}),"clickReblogFlair"===e.event&&wpcom_reblog.toggle_reblog_box_flair(e.obj_id),"showOtherGravatars"===e.event&&(i=jQuery("#likes-other-gravatars"),n=i.find("ul"),i.hide(),n.html(""),i.find(".likes-text span").text(e.total),jQuery.each(e.likers,function(e,t){var i=jQuery("<li><a><img /></a></li>");i.addClass(t.css_class),i.find("a").attr({href:t.profile_URL,rel:"nofollow",target:"_parent"}).addClass("wpl-liker"),i.find("img").attr({src:t.avatar_URL,alt:t.name}).css({width:"30px",height:"30px",paddingRight:"3px"}),n.append(i)}),a=jQuery("[name='"+e.parent+"']").offset(),i.css("left",a.left+e.position.left-10+"px"),i.css("top",a.top+e.position.top-33+"px"),r=Math.floor(e.width/37),(o=37*Math.ceil(e.likers.length/r)+13)>204&&(o=204),i.css("height",o+"px"),i.css("width",37*r-7+"px"),n.css("width",37*r+"px"),i.fadeIn("slow"),(s=n[0].offsetWidth-n[0].clientWidth)>0&&(i.width(i.width()+s),n.width(n.width()+s))))}function JetpackLikesWidgetQueueHandler(){var e,t,i;if(jetpackLikesMasterReady){if(jetpackLikesWidgetQueue.length>0){for(i=!1;jetpackLikesWidgetQueue.length>0;)if(t=jetpackLikesWidgetQueue.splice(0,1)[0],jQuery("#"+t).hasClass("jetpack-likes-widget-unloaded")){i=!0;break}if(!i)return void setTimeout(JetpackLikesWidgetQueueHandler,500)}else if(jQuery("div.jetpack-likes-widget-unloaded").length>0&&(JetpackLikesBatchHandler(),!(t=jQuery("div.jetpack-likes-widget-unloaded").first()[0].id)))return void setTimeout(JetpackLikesWidgetQueueHandler,500);void 0!==t?((e=jQuery("#"+t)).find("iframe").remove(),e.hasClass("slim-likes-widget")?e.find(".post-likes-widget-placeholder").after('<iframe class="post-likes-widget jetpack-likes-widget" name="'+e.data("name")+'" height="22px" width="68px" frameBorder="0" scrolling="no" src="'+e.data("src")+'"></iframe>'):e.find(".post-likes-widget-placeholder").after('<iframe class="post-likes-widget jetpack-likes-widget" name="'+e.data("name")+'" height="55px" width="100%" frameBorder="0" src="'+e.data("src")+'"></iframe>'),e.removeClass("jetpack-likes-widget-unloaded").addClass("jetpack-likes-widget-loading"),e.find("iframe").load(function(t){var i=jQuery(t.target);e.removeClass("jetpack-likes-widget-loading").addClass("jetpack-likes-widget-loaded"),JetpackLikespostMessage({event:"loadLikeWidget",name:i.attr("name"),width:i.width()},window.frames["likes-master"]),e.hasClass("slim-likes-widget")&&e.find("iframe").Jetpack("resizeable")}),setTimeout(JetpackLikesWidgetQueueHandler,250)):setTimeout(JetpackLikesWidgetQueueHandler,500)}else setTimeout(JetpackLikesWidgetQueueHandler,500)}function getInternetExplorerVersion(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("Trident/([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),3==e?e=7:4==e?e=8:5==e?e=9:6==e&&(e=10)}return e}function use_tinyscroller(){return!("ontouchstart"in document.documentElement)}function set_scroller_height(){$_viewport=jQuery(".viewport");var e=jQuery(window).height(),t=$_viewport.offset().top,i=$_viewport.position().top;"undefined"!==window.matchMedia&&window.matchMedia("(min-width: 1000px)").matches?$_viewport.height(e-i):$_viewport.height(e-t),$_viewport.removeAttr("style"),$_viewport.attr("style","overflow:auto"),jQuery("#scrollbar1 .scrollbar").hide()}function viewport(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}!function(e,t,i){"use strict";"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define("factory",function(){return i()}):e[t]=i()}(window,"detectZoom",function(){var e=function(){return window.devicePixelRatio||1},t=function(){return{zoom:1,devicePxPerCssPx:1}},i=function(){var t=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:t,devicePxPerCssPx:t*e()}},n=function(){var t=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:t,devicePxPerCssPx:t*e()}},a=function(){var t=(90==Math.abs(window.orientation)?screen.height:screen.width)/window.innerWidth;return{zoom:t,devicePxPerCssPx:t*e()}},r=function(){var t=function(e){return e.replace(/;/g," !important;")},i=document.createElement("div");i.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",i.setAttribute("style",t("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var n=document.createElement("div");n.setAttribute("style",t("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),n.appendChild(i),document.body.appendChild(n);var a=1e3/i.clientHeight;return a=Math.round(100*a)/100,document.body.removeChild(n),{zoom:a,devicePxPerCssPx:a*e()}},o=function(){var e=c("min--moz-device-pixel-ratio","",0,10,20,1e-4);return e=Math.round(100*e)/100,{zoom:e,devicePxPerCssPx:e}},s=function(){return{zoom:o().zoom,devicePxPerCssPx:e()}},l=function(){var t=window.top.outerWidth/window.top.innerWidth;return t=Math.round(100*t)/100,{zoom:t,devicePxPerCssPx:t*e()}},c=function(e,t,i,n,a,r){function o(i,n,a){var l=(i+n)/2;return a<=0||n-i<r?l:s("("+e+":"+l+t+")").matches?o(l,n,a-1):o(i,l,a-1)}var s,l,c,d;window.matchMedia?s=window.matchMedia:(l=document.getElementsByTagName("head")[0],c=document.createElement("style"),l.appendChild(c),(d=document.createElement("div")).className="mediaQueryBinarySearch",d.style.display="none",document.body.appendChild(d),s=function(e){c.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(d,null).textDecoration;return c.sheet.deleteRule(0),{matches:t}});var u=o(i,n,a);return d&&(l.removeChild(c),document.body.removeChild(d)),u},d=function(){var e=t;return isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?e=n:"orientation"in window&&"string"==typeof document.body.style.webkitMarquee?e=a:"string"==typeof document.body.style.webkitMarquee?e=r:navigator.userAgent.indexOf("Opera")>=0?e=l:window.devicePixelRatio?e=s:o().zoom>.001&&(e=o):e=i,e}();return{zoom:function(){return d().zoom},device:function(){return d().devicePxPerCssPx}}});var wpcom_img_zoomer={clientHintSupport:{gravatar:!1,files:!1,photon:!1,mshots:!1,staticAssets:!1,latex:!1,imgpress:!1},useHints:!1,zoomed:!1,timer:null,interval:1e3,imgNeedsSizeAtts:function(e){return null===e.getAttribute("width")&&null===e.getAttribute("height")&&!(e.width<e.naturalWidth||e.height<e.naturalHeight)},hintsFor:function(e){return!1!==this.useHints&&(!1!==this.hints()&&(void 0!==this.clientHintSupport[e]&&!0===this.clientHintSupport[e]))},hints:function(){try{var e=window.navigator.userAgent.match(/\sChrome\/([0-9]+)\.[.0-9]+\s/);if(null!==e){var t=parseInt(e[1],10);if(!1===isNaN(t)&&t>=46)return!0}}catch(e){return!1}return!1},init:function(){var e=this;try{e.zoomImages(),e.timer=setInterval(function(){e.zoomImages()},e.interval)}catch(e){}},stop:function(){this.timer&&clearInterval(this.timer)},getScale:function(){var e=detectZoom.device();return e=e<=1?1:e<=1.5?1.5:e<=2?2:e<=3?3:e<=4?4:5},shouldZoom:function(e){var t=this;return!("innerWidth"in window&&!window.innerWidth)&&(1!=e||0!=t.zoomed)},zoomImages:function(){var e=this,t=e.getScale();if(e.shouldZoom(t)){e.zoomed=!0;for(var i=document.getElementsByTagName("img"),n=0;n<i.length;n++)if((!("complete"in i[n])||i[n].complete)&&!i[n].hasAttribute("srcset")){var a=i[n].getAttribute("scale");if(a!=t&&"0"!=a){var r=i[n].getAttribute("scale-fail");r&&r<=t||i[n].width&&i[n].height&&(!a&&i[n].getAttribute("data-lazy-src")&&i[n].getAttribute("data-lazy-src")!==i[n].getAttribute("src")||(e.scaleImage(i[n],t)?i[n].setAttribute("scale",t):i[n].setAttribute("scale","0")))}}}},scaleImage:function(e,t){var i=this,n=e.src,a=!1,r=!1,o=!1;if(e.parentNode.className.match(/slideshow-slide/))return!1;if(e.src.match(/^https?:\/\/([^\/]*\.)?gravatar\.com\/.+[?&](s|size)=/)){if(!0===this.hintsFor("gravatar"))return!1;n=e.src.replace(/([?&](s|size)=)(\d+)/,function(n,a,r,o){var s=e.getAttribute("originals");null===s&&(s=o,e.setAttribute("originals",s),i.imgNeedsSizeAtts(e)&&(e.width=e.width,e.height=e.height));e.clientWidth;var l=Math.ceil(e.clientWidth*t);return l=Math.max(l,s),l=Math.min(l,512),a+l})}else if(e.src.match(/^https?:\/\/([^\/]+\.)*(wordpress|wp)\.com\/mshots\/.+[?&]w=\d+/)){if(!0===this.hintsFor("mshots"))return!1;n=e.src.replace(/([?&]w=)(\d+)/,function(n,a,r){var o=e.getAttribute("originalw");null===o&&(o=r,e.setAttribute("originalw",o),i.imgNeedsSizeAtts(e)&&(e.width=e.width,e.height=e.height));var s=e.clientWidth,l=Math.ceil(s*t);return l=Math.max(l,o),t>e.getAttribute("scale")&&l<=e.naturalWidth&&(l=r),r!=l?a+l:n}),n=n.replace(/([?&]h=)(\d+)/,function(i,a,r){if(n==e.src)return i;var o=e.getAttribute("originalh");null===o&&(o=r,e.setAttribute("originalh",o));var s=e.clientHeight,l=Math.ceil(s*t);return l=Math.max(l,o),t>e.getAttribute("scale")&&l<=e.naturalHeight&&(l=r),r!=l?a+l:i})}else if(e.src.match(/^https?:\/\/([^\/.]+\.)*(wp|wordpress)\.com\/imgpress\?(.+)/)){if(!0===this.hintsFor("imgpress"))return!1;var s=["zoom","url","h","w","fit","filter","brightness","contrast","colorize","smooth","unsharpmask"],l=RegExp.$3.split("&");for(var c in l)if(c=l[c].split("=")[0],-1==s.indexOf(c))return!1;e.width=e.width,e.height=e.height,n=1==t?e.src.replace(/\?(zoom=[^&]+&)?/,"?"):e.src.replace(/\?(zoom=[^&]+&)?/,"?zoom="+t+"&")}else if((a=e.src.match(/^https?:\/\/([^\/]+)\.files\.wordpress\.com\/.+[?&][wh]=/))||(r=e.src.match(/^https?:\/\/([^\/.]+\.)*(wp|wordpress)\.com\/latex\.php\?(latex|zoom)=(.+)/))||(o=e.src.match(/^https?:\/\/i[\d]{1}\.wp\.com\/(.+)/))){if(!1!==a&&!0===this.hintsFor("files"))return!1;if(!1!==r&&!0===this.hintsFor("latex"))return!1;if(!1!==o&&!0===this.hintsFor("photon"))return!1;if(e.width=e.width,e.height=e.height,1==t)n=e.src.replace(/\?(zoom=[^&]+&)?/,"?");else{var d=(n=e.src).match(/([?&]w=)(\d+)/);null!==d&&d[2]&&(n=n.replace(d[0],d[1]+e.width)),null!==(d=n.match(/([?&]h=)(\d+)/))&&d[2]&&(n=n.replace(d[0],d[1]+e.height));var u="&zoom=2";n.match(/\?/)||(u="?zoom=2"),e.setAttribute("srcset",n+u+" "+t+"x")}}else{if(!e.src.match(/^https?:\/\/[^\/]+\/.*[-@]([12])x\.(gif|jpeg|jpg|png)(\?|$)/))return!1;if(!0===this.hintsFor("staticAssets"))return!1;e.width=e.width,e.height=e.height;var p=RegExp.$1,m=p;p!=(m=t<=1?1:2)&&(n=e.src.replace(/([-@])[12]x\.(gif|jpeg|jpg|png)(\?|$)/,"$1"+m+"x.$2$3"))}if(n!=e.src){var f,v=e.getAttribute("src-orig");v||(v=e.src,e.setAttribute("src-orig",v)),f=e.src,e.onerror=function(){e.src=f,e.getAttribute("scale-fail")<t&&e.setAttribute("scale-fail",t),e.onerror=null},e.src=n}return!0}};wpcom_img_zoomer.init();var jetpackLikesWidgetQueue=[],jetpackLikesWidgetBatch=[],jetpackLikesMasterReady=!1;pm.bind("likesMessage",JetpackLikesMessageListener),jQuery(document).click(function(e){var t=jQuery("#likes-other-gravatars");0===t.has(e.target).length&&t.fadeOut("slow")}),JetpackLikesWidgetQueueHandler(),function(e){var t=!0;e.flexslider=function(i,n){var a=e(i);a.vars=e.extend({},e.flexslider.defaults,n);var r,o=a.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&a.vars.touch,c="click touchend MSPointerUp keyup",d="",u="vertical"===a.vars.direction,p=a.vars.reverse,m=a.vars.itemWidth>0,f="fade"===a.vars.animation,v=""!==a.vars.asNavFor,h={};e.data(i,"flexslider",a),h={init:function(){a.animating=!1,a.currentSlide=parseInt(a.vars.startAt?a.vars.startAt:0,10),isNaN(a.currentSlide)&&(a.currentSlide=0),a.animatingTo=a.currentSlide,a.atEnd=0===a.currentSlide||a.currentSlide===a.last,a.containerSelector=a.vars.selector.substr(0,a.vars.selector.search(" ")),a.slides=e(a.vars.selector,a),a.container=e(a.containerSelector,a),a.count=a.slides.length,a.syncExists=e(a.vars.sync).length>0,"slide"===a.vars.animation&&(a.vars.animation="swing"),a.prop=u?"top":"marginLeft",a.args={},a.manualPause=!1,a.stopped=!1,a.started=!1,a.startTimeout=null,a.transitions=!a.vars.video&&!f&&a.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return a.pfx=t[i].replace("Perspective","").toLowerCase(),a.prop="-"+a.pfx+"-transform",!0;return!1}(),a.ensureAnimationEnd="",""!==a.vars.controlsContainer&&(a.controlsContainer=e(a.vars.controlsContainer).length>0&&e(a.vars.controlsContainer)),""!==a.vars.manualControls&&(a.manualControls=e(a.vars.manualControls).length>0&&e(a.vars.manualControls)),""!==a.vars.customDirectionNav&&(a.customDirectionNav=2===e(a.vars.customDirectionNav).length&&e(a.vars.customDirectionNav)),a.vars.randomize&&(a.slides.sort(function(){return Math.round(Math.random())-.5}),a.container.empty().append(a.slides)),a.doMath(),a.setup("init"),a.vars.controlNav&&h.controlNav.setup(),a.vars.directionNav&&h.directionNav.setup(),a.vars.keyboard&&(1===e(a.containerSelector).length||a.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!a.animating&&(39===t||37===t)){var i=39===t?a.getTarget("next"):37===t&&a.getTarget("prev");a.flexAnimate(i,a.vars.pauseOnAction)}}),a.vars.mousewheel&&a.bind("mousewheel",function(e,t,i,n){e.preventDefault();var r=t<0?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(r,a.vars.pauseOnAction)}),a.vars.pausePlay&&h.pausePlay.setup(),a.vars.slideshow&&a.vars.pauseInvisible&&h.pauseInvisible.init(),a.vars.slideshow&&(a.vars.pauseOnHover&&a.hover(function(){a.manualPlay||a.manualPause||a.pause()},function(){a.manualPause||a.manualPlay||a.stopped||a.play()}),a.vars.pauseInvisible&&h.pauseInvisible.isHidden()||(a.vars.initDelay>0?a.startTimeout=setTimeout(a.play,a.vars.initDelay):a.play())),v&&h.asNav.setup(),l&&a.vars.touch&&h.touch(),(!f||f&&a.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",h.resize),a.find("img").attr("draggable","false"),setTimeout(function(){a.vars.start(a)},200)},asNav:{setup:function(){a.asNav=!0,a.animatingTo=Math.floor(a.currentSlide/a.move),a.currentItem=a.currentSlide,a.slides.removeClass(o+"active-slide").eq(a.currentItem).addClass(o+"active-slide"),s?(i._slider=a,a.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var i=e(this),n=i.index();e(a.vars.asNavFor).data("flexslider").animating||i.hasClass("active")||(a.direction=a.currentItem<n?"next":"prev",a.flexAnimate(n,a.vars.pauseOnAction,!1,!0,!0))})})):a.slides.on(c,function(t){t.preventDefault();var i=e(this),n=i.index();i.offset().left-e(a).scrollLeft()<=0&&i.hasClass(o+"active-slide")?a.flexAnimate(a.getTarget("prev"),!0):e(a.vars.asNavFor).data("flexslider").animating||i.hasClass(o+"active-slide")||(a.direction=a.currentItem<n?"next":"prev",a.flexAnimate(n,a.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){a.manualControls?h.controlNav.setupManual():h.controlNav.setupPaging()},setupPaging:function(){var t,i,n="thumbnails"===a.vars.controlNav?"control-thumbs":"control-paging",r=1;if(a.controlNavScaffold=e('<ol class="'+o+"control-nav "+o+n+'"></ol>'),a.pagingCount>1)for(var s=0;s<a.pagingCount;s++){void 0===(i=a.slides.eq(s)).attr("data-thumb-alt")&&i.attr("data-thumb-alt","");var l=""!==i.attr("data-thumb-alt")?l=' alt="'+i.attr("data-thumb-alt")+'"':"";if(t="thumbnails"===a.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"'+l+"/>":'<a href="#">'+r+"</a>","thumbnails"===a.vars.controlNav&&!0===a.vars.thumbCaptions){var u=i.attr("data-thumbcaption");""!==u&&void 0!==u&&(t+='<span class="'+o+'caption">'+u+"</span>")}a.controlNavScaffold.append("<li>"+t+"</li>"),r++}a.controlsContainer?e(a.controlsContainer).append(a.controlNavScaffold):a.append(a.controlNavScaffold),h.controlNav.set(),h.controlNav.active(),a.controlNavScaffold.delegate("a, img",c,function(t){if(t.preventDefault(),""===d||d===t.type){var i=e(this),n=a.controlNav.index(i);i.hasClass(o+"active")||(a.direction=n>a.currentSlide?"next":"prev",a.flexAnimate(n,a.vars.pauseOnAction))}""===d&&(d=t.type),h.setToClearWatchedEvent()})},setupManual:function(){a.controlNav=a.manualControls,h.controlNav.active(),a.controlNav.bind(c,function(t){if(t.preventDefault(),""===d||d===t.type){var i=e(this),n=a.controlNav.index(i);i.hasClass(o+"active")||(n>a.currentSlide?a.direction="next":a.direction="prev",a.flexAnimate(n,a.vars.pauseOnAction))}""===d&&(d=t.type),h.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===a.vars.controlNav?"img":"a";a.controlNav=e("."+o+"control-nav li "+t,a.controlsContainer?a.controlsContainer:a)},active:function(){a.controlNav.removeClass(o+"active").eq(a.animatingTo).addClass(o+"active")},update:function(t,i){a.pagingCount>1&&"add"===t?a.controlNavScaffold.append(e('<li><a href="#">'+a.count+"</a></li>")):1===a.pagingCount?a.controlNavScaffold.find("li").remove():a.controlNav.eq(i).closest("li").remove(),h.controlNav.set(),a.pagingCount>1&&a.pagingCount!==a.controlNav.length?a.update(i,t):h.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+o+'direction-nav"><li class="'+o+'nav-prev"><a class="'+o+'prev" href="#">'+a.vars.prevText+'</a></li><li class="'+o+'nav-next"><a class="'+o+'next" href="#">'+a.vars.nextText+"</a></li></ul>");a.customDirectionNav?a.directionNav=a.customDirectionNav:a.controlsContainer?(e(a.controlsContainer).append(t),a.directionNav=e("."+o+"direction-nav li a",a.controlsContainer)):(a.append(t),a.directionNav=e("."+o+"direction-nav li a",a)),h.directionNav.update(),a.directionNav.bind(c,function(t){t.preventDefault();var i;""!==d&&d!==t.type||(i=e(this).hasClass(o+"next")?a.getTarget("next"):a.getTarget("prev"),a.flexAnimate(i,a.vars.pauseOnAction)),""===d&&(d=t.type),h.setToClearWatchedEvent()})},update:function(){var e=o+"disabled";1===a.pagingCount?a.directionNav.addClass(e).attr("tabindex","-1"):a.vars.animationLoop?a.directionNav.removeClass(e).removeAttr("tabindex"):0===a.animatingTo?a.directionNav.removeClass(e).filter("."+o+"prev").addClass(e).attr("tabindex","-1"):a.animatingTo===a.last?a.directionNav.removeClass(e).filter("."+o+"next").addClass(e).attr("tabindex","-1"):a.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+o+'pauseplay"><a href="#"></a></div>');a.controlsContainer?(a.controlsContainer.append(t),a.pausePlay=e("."+o+"pauseplay a",a.controlsContainer)):(a.append(t),a.pausePlay=e("."+o+"pauseplay a",a)),h.pausePlay.update(a.vars.slideshow?o+"pause":o+"play"),a.pausePlay.bind(c,function(t){t.preventDefault(),""!==d&&d!==t.type||(e(this).hasClass(o+"pause")?(a.manualPause=!0,a.manualPlay=!1,a.pause()):(a.manualPause=!1,a.manualPlay=!0,a.play())),""===d&&(d=t.type),h.setToClearWatchedEvent()})},update:function(e){"play"===e?a.pausePlay.removeClass(o+"pause").addClass(o+"play").html(a.vars.playText):a.pausePlay.removeClass(o+"play").addClass(o+"pause").html(a.vars.pauseText)}},touch:function(){var e,t,n,r,o,l,c,d,v,h=!1,g=0,w=0,y=0;s?(i.style.msTouchAction="none",i._gesture=new MSGesture,i._gesture.target=i,i.addEventListener("MSPointerDown",function(e){e.stopPropagation(),a.animating?e.preventDefault():(a.pause(),i._gesture.addPointer(e.pointerId),y=0,r=u?a.h:a.w,l=Number(new Date),n=m&&p&&a.animatingTo===a.last?0:m&&p?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:m&&a.currentSlide===a.last?a.limit:m?(a.itemW+a.vars.itemMargin)*a.move*a.currentSlide:p?(a.last-a.currentSlide+a.cloneOffset)*r:(a.currentSlide+a.cloneOffset)*r)},!1),i._slider=a,i.addEventListener("MSGestureChange",function(e){e.stopPropagation();var t=e.target._slider;if(t){var a=-e.translationX,s=-e.translationY;o=y+=u?s:a,h=u?Math.abs(y)<Math.abs(-a):Math.abs(y)<Math.abs(-s),e.detail!==e.MSGESTURE_FLAG_INERTIA?(!h||Number(new Date)-l>500)&&(e.preventDefault(),!f&&t.transitions&&(t.vars.animationLoop||(o=y/(0===t.currentSlide&&y<0||t.currentSlide===t.last&&y>0?Math.abs(y)/r+2:1)),t.setProps(n+o,"setTouch"))):setImmediate(function(){i._gesture.stop()})}},!1),i.addEventListener("MSGestureEnd",function(i){i.stopPropagation();var a=i.target._slider;if(a){if(a.animatingTo===a.currentSlide&&!h&&null!==o){var s=p?-o:o,c=s>0?a.getTarget("next"):a.getTarget("prev");a.canAdvance(c)&&(Number(new Date)-l<550&&Math.abs(s)>50||Math.abs(s)>r/2)?a.flexAnimate(c,a.vars.pauseOnAction):f||a.flexAnimate(a.currentSlide,a.vars.pauseOnAction,!0)}e=null,t=null,o=null,n=null,y=0}},!1)):(c=function(o){a.animating?o.preventDefault():(window.navigator.msPointerEnabled||1===o.touches.length)&&(a.pause(),r=u?a.h:a.w,l=Number(new Date),g=o.touches[0].pageX,w=o.touches[0].pageY,n=m&&p&&a.animatingTo===a.last?0:m&&p?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:m&&a.currentSlide===a.last?a.limit:m?(a.itemW+a.vars.itemMargin)*a.move*a.currentSlide:p?(a.last-a.currentSlide+a.cloneOffset)*r:(a.currentSlide+a.cloneOffset)*r,e=u?w:g,t=u?g:w,i.addEventListener("touchmove",d,!1),i.addEventListener("touchend",v,!1))},d=function(i){g=i.touches[0].pageX,w=i.touches[0].pageY,o=u?e-w:e-g;(!(h=u?Math.abs(o)<Math.abs(g-t):Math.abs(o)<Math.abs(w-t))||Number(new Date)-l>500)&&(i.preventDefault(),!f&&a.transitions&&(a.vars.animationLoop||(o/=0===a.currentSlide&&o<0||a.currentSlide===a.last&&o>0?Math.abs(o)/r+2:1),a.setProps(n+o,"setTouch")))},v=function(s){if(i.removeEventListener("touchmove",d,!1),a.animatingTo===a.currentSlide&&!h&&null!==o){var c=p?-o:o,u=c>0?a.getTarget("next"):a.getTarget("prev");a.canAdvance(u)&&(Number(new Date)-l<550&&Math.abs(c)>50||Math.abs(c)>r/2)?a.flexAnimate(u,a.vars.pauseOnAction):f||a.flexAnimate(a.currentSlide,a.vars.pauseOnAction,!0)}i.removeEventListener("touchend",v,!1),e=null,t=null,o=null,n=null},i.addEventListener("touchstart",c,!1))},resize:function(){!a.animating&&a.is(":visible")&&(m||a.doMath(),f?h.smoothHeight():m?(a.slides.width(a.computedW),a.update(a.pagingCount),a.setProps()):u?(a.viewport.height(a.h),a.setProps(a.h,"setTotal")):(a.vars.smoothHeight&&h.smoothHeight(),a.newSlides.width(a.computedW),a.setProps(a.computedW,"setTotal")))},smoothHeight:function(e){if(!u||f){var t=f?a:a.viewport;e?t.animate({height:a.slides.eq(a.animatingTo).innerHeight()},e):t.innerHeight(a.slides.eq(a.animatingTo).innerHeight())}},sync:function(t){var i=e(a.vars.sync).data("flexslider"),n=a.animatingTo;switch(t){case"animate":i.flexAnimate(n,a.vars.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=h.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){h.pauseInvisible.isHidden()?a.startTimeout?clearTimeout(a.startTimeout):a.pause():a.started?a.play():a.vars.initDelay>0?setTimeout(a.play,a.vars.initDelay):a.play()})}},isHidden:function(){var e=h.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(r),r=setTimeout(function(){d=""},3e3)}},a.flexAnimate=function(t,i,n,r,s){if(a.vars.animationLoop||t===a.currentSlide||(a.direction=t>a.currentSlide?"next":"prev"),v&&1===a.pagingCount&&(a.direction=a.currentItem<t?"next":"prev"),!a.animating&&(a.canAdvance(t,s)||n)&&a.is(":visible")){if(v&&r){var c=e(a.vars.asNavFor).data("flexslider");if(a.atEnd=0===t||t===a.count-1,c.flexAnimate(t,!0,!1,!0,s),a.direction=a.currentItem<t?"next":"prev",c.direction=a.direction,Math.ceil((t+1)/a.visible)-1===a.currentSlide||0===t)return a.currentItem=t,a.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),!1;a.currentItem=t,a.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),t=Math.floor(t/a.visible)}if(a.animating=!0,a.animatingTo=t,i&&a.pause(),a.vars.before(a),a.syncExists&&!s&&h.sync("animate"),a.vars.controlNav&&h.controlNav.active(),m||a.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),a.atEnd=0===t||t===a.last,a.vars.directionNav&&h.directionNav.update(),t===a.last&&(a.vars.end(a),a.vars.animationLoop||a.pause()),f)l?(a.slides.eq(a.currentSlide).css({opacity:0,zIndex:1}),a.slides.eq(t).css({opacity:1,zIndex:2}),a.wrapup(y)):(a.slides.eq(a.currentSlide).css({zIndex:1}).animate({opacity:0},a.vars.animationSpeed,a.vars.easing),a.slides.eq(t).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing,a.wrapup));else{var d,g,w,y=u?a.slides.filter(":first").height():a.computedW;m?(d=a.vars.itemMargin,g=(w=(a.itemW+d)*a.move*a.animatingTo)>a.limit&&1!==a.visible?a.limit:w):g=0===a.currentSlide&&t===a.count-1&&a.vars.animationLoop&&"next"!==a.direction?p?(a.count+a.cloneOffset)*y:0:a.currentSlide===a.last&&0===t&&a.vars.animationLoop&&"prev"!==a.direction?p?0:(a.count+1)*y:p?(a.count-1-t+a.cloneOffset)*y:(t+a.cloneOffset)*y,a.setProps(g,"",a.vars.animationSpeed),a.transitions?(a.vars.animationLoop&&a.atEnd||(a.animating=!1,a.currentSlide=a.animatingTo),a.container.unbind("webkitTransitionEnd transitionend"),a.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(a.ensureAnimationEnd),a.wrapup(y)}),clearTimeout(a.ensureAnimationEnd),a.ensureAnimationEnd=setTimeout(function(){a.wrapup(y)},a.vars.animationSpeed+100)):a.container.animate(a.args,a.vars.animationSpeed,a.vars.easing,function(){a.wrapup(y)})}a.vars.smoothHeight&&h.smoothHeight(a.vars.animationSpeed)}},a.wrapup=function(e){f||m||(0===a.currentSlide&&a.animatingTo===a.last&&a.vars.animationLoop?a.setProps(e,"jumpEnd"):a.currentSlide===a.last&&0===a.animatingTo&&a.vars.animationLoop&&a.setProps(e,"jumpStart")),a.animating=!1,a.currentSlide=a.animatingTo,a.vars.after(a)},a.animateSlides=function(){!a.animating&&t&&a.flexAnimate(a.getTarget("next"))},a.pause=function(){clearInterval(a.animatedSlides),a.animatedSlides=null,a.playing=!1,a.vars.pausePlay&&h.pausePlay.update("play"),a.syncExists&&h.sync("pause")},a.play=function(){a.playing&&clearInterval(a.animatedSlides),a.animatedSlides=a.animatedSlides||setInterval(a.animateSlides,a.vars.slideshowSpeed),a.started=a.playing=!0,a.vars.pausePlay&&h.pausePlay.update("pause"),a.syncExists&&h.sync("play")},a.stop=function(){a.pause(),a.stopped=!0},a.canAdvance=function(e,t){var i=v?a.pagingCount-1:a.last;return!!t||(!(!v||a.currentItem!==a.count-1||0!==e||"prev"!==a.direction)||(!v||0!==a.currentItem||e!==a.pagingCount-1||"next"===a.direction)&&(!(e===a.currentSlide&&!v)&&(!!a.vars.animationLoop||(!a.atEnd||0!==a.currentSlide||e!==i||"next"===a.direction)&&(!a.atEnd||a.currentSlide!==i||0!==e||"next"!==a.direction))))},a.getTarget=function(e){return a.direction=e,"next"===e?a.currentSlide===a.last?0:a.currentSlide+1:0===a.currentSlide?a.last:a.currentSlide-1},a.setProps=function(e,t,i){var n=function(){var i=e||(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo;return-1*function(){if(m)return"setTouch"===t?e:p&&a.animatingTo===a.last?0:p?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:a.animatingTo===a.last?a.limit:i;switch(t){case"setTotal":return p?(a.count-1-a.currentSlide+a.cloneOffset)*e:(a.currentSlide+a.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return p?e:a.count*e;case"jumpStart":return p?a.count*e:e;default:return e}}()+"px"}();a.transitions&&(n=u?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",i=void 0!==i?i/1e3+"s":"0s",a.container.css("-"+a.pfx+"-transition-duration",i),a.container.css("transition-duration",i)),a.args[a.prop]=n,(a.transitions||void 0===i)&&a.container.css(a.args),a.container.css("transform",n)},a.setup=function(t){if(f)a.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===t&&(l?a.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+a.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(a.currentSlide).css({opacity:1,zIndex:2}):0==a.vars.fadeFirstSlide?a.slides.css({opacity:0,display:"block",zIndex:1}).eq(a.currentSlide).css({zIndex:2}).css({opacity:1}):a.slides.css({opacity:0,display:"block",zIndex:1}).eq(a.currentSlide).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing)),a.vars.smoothHeight&&h.smoothHeight();else{var i,n;"init"===t&&(a.viewport=e('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(a).append(a.container),a.cloneCount=0,a.cloneOffset=0,p&&(n=e.makeArray(a.slides).reverse(),a.slides=e(n),a.container.empty().append(a.slides))),a.vars.animationLoop&&!m&&(a.cloneCount=2,a.cloneOffset=1,"init"!==t&&a.container.find(".clone").remove(),a.container.append(h.uniqueID(a.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(h.uniqueID(a.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),a.newSlides=e(a.vars.selector,a),i=p?a.count-1-a.currentSlide+a.cloneOffset:a.currentSlide+a.cloneOffset,u&&!m?(a.container.height(200*(a.count+a.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){a.newSlides.css({display:"block"}),a.doMath(),a.viewport.height(a.h),a.setProps(i*a.h,"init")},"init"===t?100:0)):(a.container.width(200*(a.count+a.cloneCount)+"%"),a.setProps(i*a.computedW,"init"),setTimeout(function(){a.doMath(),a.newSlides.css({width:a.computedW,marginRight:a.computedM,float:"left",display:"block"}),a.vars.smoothHeight&&h.smoothHeight()},"init"===t?100:0))}m||a.slides.removeClass(o+"active-slide").eq(a.currentSlide).addClass(o+"active-slide"),a.vars.init(a)},a.doMath=function(){var e=a.slides.first(),t=a.vars.itemMargin,i=a.vars.minItems,n=a.vars.maxItems;a.w=void 0===a.viewport?a.width():a.viewport.width(),a.h=e.height(),a.boxPadding=e.outerWidth()-e.width(),m?(a.itemT=a.vars.itemWidth+t,a.itemM=t,a.minW=i?i*a.itemT:a.w,a.maxW=n?n*a.itemT-t:a.w,a.itemW=a.minW>a.w?(a.w-t*(i-1))/i:a.maxW<a.w?(a.w-t*(n-1))/n:a.vars.itemWidth>a.w?a.w:a.vars.itemWidth,a.visible=Math.floor(a.w/a.itemW),a.move=a.vars.move>0&&a.vars.move<a.visible?a.vars.move:a.visible,a.pagingCount=Math.ceil((a.count-a.visible)/a.move+1),a.last=a.pagingCount-1,a.limit=1===a.pagingCount?0:a.vars.itemWidth>a.w?a.itemW*(a.count-1)+t*(a.count-1):(a.itemW+t)*a.count-a.w-t):(a.itemW=a.w,a.itemM=t,a.pagingCount=a.count,a.last=a.count-1),a.computedW=a.itemW-a.boxPadding,a.computedM=a.itemM},a.update=function(e,t){a.doMath(),m||(e<a.currentSlide?a.currentSlide+=1:e<=a.currentSlide&&0!==e&&(a.currentSlide-=1),a.animatingTo=a.currentSlide),a.vars.controlNav&&!a.manualControls&&("add"===t&&!m||a.pagingCount>a.controlNav.length?h.controlNav.update("add"):("remove"===t&&!m||a.pagingCount<a.controlNav.length)&&(m&&a.currentSlide>a.last&&(a.currentSlide-=1,a.animatingTo-=1),h.controlNav.update("remove",a.last))),a.vars.directionNav&&h.directionNav.update()},a.addSlide=function(t,i){var n=e(t);a.count+=1,a.last=a.count-1,u&&p?void 0!==i?a.slides.eq(a.count-i).after(n):a.container.prepend(n):void 0!==i?a.slides.eq(i).before(n):a.container.append(n),a.update(i,"add"),a.slides=e(a.vars.selector+":not(.clone)",a),a.setup(),a.vars.added(a)},a.removeSlide=function(t){var i=isNaN(t)?a.slides.index(e(t)):t;a.count-=1,a.last=a.count-1,isNaN(t)?e(t,a.slides).remove():u&&p?a.slides.eq(a.last).remove():a.slides.eq(t).remove(),a.doMath(),a.update(i,"remove"),a.slides=e(a.vars.selector+":not(.clone)",a),a.setup(),a.vars.removed(a)},h.init()},e(window).blur(function(e){t=!1}).focus(function(e){t=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var i=e(this),n=t.selector?t.selector:".slides > li",a=i.find(n);1===a.length&&!1===t.allowOneSlide||0===a.length?(a.fadeIn(400),t.start&&t.start(i)):void 0===i.data("flexslider")&&new e.flexslider(this,t)});var i=e(this).data("flexslider");switch(t){case"play":i.play();break;case"pause":i.pause();break;case"stop":i.stop();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof t&&i.flexAnimate(t,!0)}}}(jQuery),function(e){function t(t,i){function n(){var e=w.toLowerCase();v.obj.css(g,y/m.ratio),p.obj.css(g,-y),x.start=v.obj.offset()[g],m.obj.css(e,f[i.axis]),f.obj.css(e,f[i.axis]),v.obj.css(e,v[i.axis])}function a(){_?(e(u.obj[0]).bind("touchstart",function(e){1===e.originalEvent.touches.length&&(r(e.originalEvent.touches[0]),e.originalEvent.stopPropagation())}),e(".primary").bind("touchstart",function(e){})):(v.obj.bind("mousedown",r),f.obj.bind("mouseup",s)),i.scroll&&window.addEventListener?(d[0].addEventListener("DOMMouseScroll",o,!1),d[0].addEventListener("mousewheel",o,!1),d[0].addEventListener("MozMousePixelScroll",function(e){e.preventDefault()},!1)):i.scroll&&(d[0].onmousewheel=o)}function r(t){e("body").addClass("noSelect");var i=parseInt(v.obj.css(g),10);x.start=h?t.pageX:t.pageY,b.start="auto"==i?0:i,_?(document.ontouchmove=function(e){e.preventDefault(),s(e.touches[0])},document.ontouchend=l):(e(document).bind("mousemove",s),e(document).bind("mouseup",l),v.obj.bind("mouseup",l))}function o(t){if(p.ratio<1){var n=t||window.event,a=n.wheelDelta?n.wheelDelta/120:-n.detail/3;y-=a*i.wheel,y=Math.min(p[i.axis]-u[i.axis],Math.max(0,y)),v.obj.css(g,y/m.ratio),p.obj.css(g,-y),(i.lockscroll||y!==p[i.axis]-u[i.axis]&&0!==y)&&(n=e.event.fix(n)).preventDefault()}}function s(e){p.ratio<1&&(i.invertscroll&&_?b.now=Math.min(f[i.axis]-v[i.axis],Math.max(0,b.start+(x.start-(h?e.pageX:e.pageY)))):b.now=Math.min(f[i.axis]-v[i.axis],Math.max(0,b.start+((h?e.pageX:e.pageY)-x.start))),y=b.now*m.ratio,p.obj.css(g,-y),v.obj.css(g,b.now))}function l(){e("body").removeClass("noSelect"),e(document).unbind("mousemove",s),e(document).unbind("mouseup",l),v.obj.unbind("mouseup",l),document.ontouchmove=document.ontouchend=null}var c=this,d=t,u={obj:e(".viewport",t)},p={obj:e(".overview",t)},m={obj:e(".scrollbar",t)},f={obj:e(".track",m.obj)},v={obj:e(".thumb",m.obj)},h="x"===i.axis,g=h?"left":"top",w=h?"Width":"Height",y=0,b={start:0,now:0},x={},_="ontouchstart"in document.documentElement;return this.update=function(e){u[i.axis]=u.obj[0]["offset"+w],p[i.axis]=p.obj[0]["scroll"+w],p.ratio=u[i.axis]/p[i.axis],m.obj.toggleClass("disable",p.ratio>=1),f[i.axis]="auto"===i.size?u[i.axis]:i.size,v[i.axis]=Math.min(f[i.axis],Math.max(0,"auto"===i.sizethumb?f[i.axis]*p.ratio:i.sizethumb)),m.ratio="auto"===i.sizethumb?p[i.axis]/f[i.axis]:(p[i.axis]-u[i.axis])/(f[i.axis]-v[i.axis]),y="relative"===e&&p.ratio<=1?Math.min(p[i.axis]-u[i.axis],Math.max(0,y)):0,y="bottom"===e&&p.ratio<=1?p[i.axis]-u[i.axis]:isNaN(parseInt(e,10))?y:parseInt(e,10),n()},c.update(),a(),c}e.tiny=e.tiny||{},e.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!0,size:"auto",sizethumb:"auto",invertscroll:!1}},e.fn.tinyscrollbar=function(i){var n=e.extend({},e.tiny.scrollbar.options,i);return this.each(function(){e(this).data("tsb",new t(e(this),n))}),this},e.fn.tinyscrollbar_update=function(t){return e(this).data("tsb").update(t)}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,i,n,a,r,o,s="Close",l="BeforeClose",c="MarkupParse",d="Open",u="Change",p="mfp",m="."+p,f="mfp-ready",v="mfp-removing",h="mfp-prevent-close",g=function(){},w=!!window.jQuery,y=e(window),b=function(e,i){t.ev.on(p+e+m,i)},x=function(t,i,n,a){var r=document.createElement("div");return r.className="mfp-"+t,n&&(r.innerHTML=n),a?i&&i.appendChild(r):(r=e(r),i&&r.appendTo(i)),r},_=function(i,n){t.ev.triggerHandler(p+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},C=function(i){return i===o&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),o=i),t.currTemplate.closeBtn},k=function(){e.magnificPopup.instance||((t=new g).init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};g.prototype={constructor:g,init:function(){var i=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=S(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=e(document),t.popupsCache={}},open:function(i){var a;if(!1===i.isObj){t.items=i.items.toArray(),t.index=0;var o,s=i.items;for(a=0;a<s.length;a++)if((o=s[a]).parsed&&(o=o.el[0]),o===i.el[0]){t.index=a;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;{if(!t.isOpen){t.types=[],r="",i.mainEl&&i.mainEl.length?t.ev=i.mainEl.eq(0):t.ev=n,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=x("bg").on("click"+m,function(){t.close()}),t.wrap=x("wrap").attr("tabindex",-1).on("click"+m,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=x("container",t.wrap)),t.contentContainer=x("content"),t.st.preloader&&(t.preloader=x("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(a=0;a<l.length;a++){var u=l[a];u=u.charAt(0).toUpperCase()+u.slice(1),t["init"+u].call(t)}_("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(b(c,function(e,t,i,n){i.close_replaceWith=C(n.type)}),r+=" mfp-close-btn-in"):t.wrap.append(C())),t.st.alignTop&&(r+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:y.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:n.height(),position:"absolute"}),t.st.enableEscapeKey&&n.on("keyup"+m,function(e){27===e.keyCode&&t.close()}),y.on("resize"+m,function(){t.updateSize()}),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var p=t.wH=y.height(),v={};if(t.fixedContentPos&&t._hasScrollBar(p)){var h=t._getScrollbarSize();h&&(v.marginRight=h)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):v.overflow="hidden");var g=t.st.mainClass;return t.isIE7&&(g+=" mfp-ie7"),g&&t._addClassToMFP(g),t.updateItemHTML(),_("BuildControls"),e("html").css(v),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(f),t._setFocus()):t.bgOverlay.addClass(f),n.on("focusin"+m,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(p),_(d),i}t.updateItemHTML()}},close:function(){t.isOpen&&(_(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(v),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){_(s);var i=v+" "+f+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var a={marginRight:""};t.isIE7?e("body, html").css("overflow",""):a.overflow="",e("html").css(a)}n.off("keyup.mfp focusin"+m),t.ev.off(m),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,_("AfterClose")},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||y.height();t.fixedContentPos||t.wrap.css("height",t.wH),_("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(_("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var r=!!t.st[n]&&t.st[n].markup;_("FirstMarkupParse",r),t.currTemplate[n]=!r||e(r)}a&&a!==i.type&&t.container.removeClass("mfp-"+a+"-holder");var o=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(o,n),i.preloaded=!0,_(u,i),a=i.type,t.container.prepend(t.contentContainer),_("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[i]?t.content.find(".mfp-close").length||t.content.append(C()):t.content=e:t.content="",_("BeforeAppend"),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n,a=t.items[i];if(a.tagName?a={el:e(a)}:(n=a.type,a={data:a,src:a.src}),a.el){for(var r=t.types,o=0;o<r.length;o++)if(a.el.hasClass("mfp-"+r[o])){n=r[o];break}a.src=a.el.attr("data-mfp-src"),a.src||(a.src=a.el.attr("href"))}return a.type=n||t.st.type||"inline",a.index=i,a.parsed=!0,t.items[i]=a,_("ElementParse",a),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var a="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(a).on(a,n)):(i.isObj=!1,i.delegate?e.off(a).on(a,i.delegate,n):(i.items=e,e.off(a).on(a,n)))},_openClick:function(i,n,a){if((void 0!==a.midClick?a.midClick:e.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var r=void 0!==a.disableOn?a.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(y.width()<r)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),a.el=e(i.mfpEl),a.delegate&&(a.items=n.find(a.delegate)),t.open(a)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),n||"loading"!==e||(n=t.st.tLoading);var a={status:e,text:n};_("UpdateStatus",a),e=a.status,n=a.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(h)){var n=t.st.closeOnContentClick,a=t.st.closeOnBgClick;if(n&&a)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(a&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?n.height():document.body.scrollHeight)>(e||y.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){return i.target===t.wrap[0]||e.contains(t.wrap[0],i.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,i,n){var a;n.data&&(i=e.extend(n.data,i)),_(c,[t,i,n]),e.each(i,function(i,n){if(void 0===n||!1===n)return!0;if((a=i.split("_")).length>1){var r=t.find(m+"-"+a[0]);if(r.length>0){var o=a[1];"replaceWith"===o?r[0]!==n[0]&&r.replaceWith(n):"img"===o?r.is("img")?r.attr("src",n):r.replaceWith(e("<img>").attr("src",n).attr("class",r.attr("class"))):r.attr(a[1],n)}}else t.find(m+"-"+i).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:g.prototype,modules:[],open:function(t,i){return k(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(i){k();var n=e(this);if("string"==typeof i)if("open"===i){var a,r=w?n.data("magnificPopup"):n[0].magnificPopup,o=parseInt(arguments[1],10)||0;r.items?a=r.items[o]:(a=n,r.delegate&&(a=a.find(r.delegate)),a=a.eq(o)),t._openClick({mfpEl:a},n,r)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),w?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var j,T,I,M="inline",P=function(){I&&(T.after(I.addClass(j)).detach(),I=null)};e.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(M),b(s+"."+M,function(){P()})},getInline:function(i,n){if(P(),i.src){var a=t.st.inline,r=e(i.src);if(r.length){var o=r[0].parentNode;o&&o.tagName&&(T||(j=a.hiddenClass,T=x(j),j="mfp-"+j),I=r.after(T).detach().removeClass(j)),t.updateStatus("ready")}else t.updateStatus("error",a.tNotFound),r=e("<div>");return i.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var E,N="ajax",z=function(){E&&e(document.body).removeClass(E)},L=function(){z(),t.req&&t.req.abort()};e.magnificPopup.registerModule(N,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(N),E=t.st.ajax.cursor,b(s+"."+N,L),b("BeforeChange."+N,L)},getAjax:function(i){E&&e(document.body).addClass(E),t.updateStatus("loading");var n=e.extend({url:i.src,success:function(n,a,r){var o={data:n,xhr:r};_("ParseAjax",o),t.appendContent(e(o.data),N),i.finished=!0,z(),t._setFocus(),setTimeout(function(){t.wrap.addClass(f)},16),t.updateStatus("ready"),_("AjaxContentAdded")},error:function(){z(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(n),""}}});var A,Q=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=t.st.image,n=".image";t.types.push("image"),b(d+n,function(){"image"===t.currItem.type&&i.cursor&&e(document.body).addClass(i.cursor)}),b(s+n,function(){i.cursor&&e(document.body).removeClass(i.cursor),y.off("resize"+m)}),b("Resize"+n,t.resizeImage),t.isLowIE&&b("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,A&&clearInterval(A),e.isCheckingImgSize=!1,_("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],a=function(r){A&&clearInterval(A),A=setInterval(function(){return n.naturalWidth>0?void t._onImageHasSize(e):(i>200&&clearInterval(A),void(3===++i?a(10):40===i?a(50):100===i&&a(500)))},r)};a(1)},getImage:function(i,n){var a=0,r=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,_("ImageLoadComplete")):200>++a?setTimeout(r,100):o())},o=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",s.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},s=t.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=e(c).on("load.mfploader",r).on("error.mfploader",o),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),(c=i.img[0]).naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:Q(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(A&&clearInterval(A),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var O,W=function(){return void 0===O&&(O=void 0!==document.createElement("p").style.MozTransform),O};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var a,r,o=i.duration,c=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return a["-webkit-"+r]=a["-moz-"+r]=a["-o-"+r]=a[r]=n,t.css(a),t},d=function(){t.content.css("visibility","visible")};b("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(a),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void d();(r=c(e)).css(t._getOffset()),t.wrap.append(r),a=setTimeout(function(){r.css(t._getOffset(!0)),a=setTimeout(function(){d(),setTimeout(function(){r.remove(),e=r=null,_("ZoomAnimationEnded")},16)},o)},16)}}),b(l+n,function(){if(t._allowZoom()){if(clearTimeout(a),t.st.removalDelay=o,!e){if(!(e=t._getItemToZoom()))return;r=c(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),b(s+n,function(){t._allowZoom()&&(d(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(i){var n,a=(n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem)).offset(),r=parseInt(n.css("padding-top"),10),o=parseInt(n.css("padding-bottom"),10);a.top-=e(window).scrollTop()-r;var s={width:n.width(),height:(w?n.innerHeight():n[0].offsetHeight)-o-r};return W()?s["-moz-transform"]=s.transform="translate("+a.left+"px,"+a.top+"px)":(s.left=a.left,s.top=a.top),s}}});var H="iframe",D=function(e){if(t.currTemplate[H]){var i=t.currTemplate[H].find("iframe");i.length&&(e||(i[0].src="https://about:blank"),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="https://about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"https://player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"https://maps.google./",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(H),b("BeforeChange",function(e,t,i){t!==i&&(t===H?D():i===H&&D(!0))}),b(s+"."+H,function(){D()})},getIframe:function(i,n){var a=i.src,r=t.st.iframe;e.each(r.patterns,function(){return a.indexOf(this.index)>-1?(this.id&&(a="string"==typeof this.id?a.substr(a.lastIndexOf(this.id)+this.id.length,a.length):this.id.call(this,a)),a=this.src.replace("%id%",a),!1):void 0});var o={};return r.srcAction&&(o[r.srcAction]=a),t._parseMarkup(n,o,i),t.updateStatus("ready"),n}}});var B=function(e){var i=t.items.length;return e>i-1?e-i:0>e?i+e:e},F=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,a=".mfp-gallery";return t.direction=!0,!(!i||!i.enabled)&&(r+=" mfp-gallery",b(d+a,function(){i.navigateByImgClick&&t.wrap.on("click"+a,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),n.on("keydown"+a,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),b("UpdateStatus"+a,function(e,i){i.text&&(i.text=F(i.text,t.currItem.index,t.items.length))}),b(c+a,function(e,n,a,r){var o=t.items.length;a.counter=o>1?F(i.tCounter,r.index,o):""}),b("BuildControls"+a,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,a=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(h),r=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(h);a.click(function(){t.prev()}),r.click(function(){t.next()}),t.container.append(a.add(r))}}),b(u+a,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void b(s+a,function(){n.off(a),t.wrap.off("click"+a),t.arrowRight=t.arrowLeft=null}))},next:function(){t.direction=!0,t.index=B(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=B(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),a=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?a:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:a);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=B(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),_("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,_("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var q="retina";e.magnificPopup.registerModule(q,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;(i=isNaN(i)?i():i)>1&&(b("ImageHasSize."+q,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),b("ElementParse."+q,function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),k()}),jQuery(document).ready(function(){jQuery("#carousel").length>0?(jQuery(".flexslider_t").flexslider({animation:"slide",controlNav:"thumbnails"}),jQuery("#carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:100,itemMargin:0,asNavFor:"#slider"}),jQuery("#slider").flexslider({animation:"slide",smoothHeight:!1,controlNav:!1,animationLoop:!1,slideshow:!1,sync:"#carousel"})):jQuery(".flexslider").flexslider({animation:"slide",pausePlay:!0,useCSS:!1,smoothHeight:!1,start:function(){}}),use_tinyscroller()?jQuery("#scrollbar1").tinyscrollbar({invertscroll:!0}):set_scroller_height(),jQuery(".gazette_list").hide(),jQuery("#yr2006").show(),jQuery("#gz_choose_year a").click(function(){var e=jQuery(this).text();jQuery(".gazette_list").fadeOut(),jQuery("#yr"+e).fadeIn()}),jQuery("#nav-open-btn").click(function(){jQuery("#nav-open-btn").hide(),jQuery("#nav-close-btn").show(),jQuery(".secondary").show(),"ontouchstart"in document.documentElement&&jQuery("body").addClass("nooverflow"),use_tinyscroller()?jQuery("#scrollbar1").tinyscrollbar({invertscroll:!0}):set_scroller_height(),dataLayer.push({eventCategory:"nav_menu",eventAction:"click",eventLabel:"open",event:"gaEvent"})}),jQuery("#nav-close-btn").click(function(){jQuery("#nav-close-btn").hide(),jQuery("#nav-open-btn").show(),jQuery(".secondary").hide(),jQuery(".secondary").removeAttr("style"),jQuery("body").removeClass("nooverflow"),dataLayer.push({eventCategory:"nav_menu",eventAction:"click",eventLabel:"close",event:"gaEvent"})}),jQuery("html").click(function(){jQuery(".secondary").is(":visible")&&jQuery("#nav-close-btn").is(":visible")&&(jQuery("#nav-close-btn").hide(),jQuery("#nav-open-btn").show(),jQuery(".secondary").hide(),jQuery("body").removeClass("nooverflow"),jQuery(".secondary").removeAttr("style"))}),jQuery(".secondary, #nav-open-btn").click(function(e){e.stopPropagation()}),jQuery("a.show-more").each(function(){var e=jQuery(this).parent().parent().find(".photo-description"),t=e[0];e.height()+1>=t.scrollHeight&&jQuery(this).parent().hide()}),jQuery("a.show-more").click(function(e){var t=jQuery(this).parent().parent().find(".photo-description");if(jQuery(this).hasClass("show-more")){var i=t[0].scrollHeight;t.animate({height:i}),jQuery(this).removeClass("show-more"),jQuery(this).addClass("show-less"),jQuery(this).html("Show Less")}else t.animate({height:"65px"}),jQuery(this).removeClass("show-less"),jQuery(this).addClass("show-more"),jQuery(this).html("Show More");e.preventDefault()}),jQuery(".image-popup").append('<div class="media-action-overlay">&nbsp;</div>'),jQuery(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0,image:{verticalFit:!1}})}),function(){function e(){var e=new XMLHttpRequest;e.open("POST",a,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(i)}function t(){setTimeout(function(){e()},1500)}var i,n,a=window.ajaxurl||"/wp-admin/admin-ajax.php",r=window.wpcomVipAnalytics;if("undefined"!=typeof XMLHttpRequest&&r&&!((n=~~r.percentToTrack)&&n<100&&~~(100*Math.random()+1)>n)){i="action=wpcom_vip_analytics";for(var o in r)"percentToTrack"!==o&&r.hasOwnProperty(o)&&(i+="&"+encodeURIComponent(o).replace(/%20/g,"+")+"="+encodeURIComponent(r[o]).replace(/%20/g,"+"));"complete"===document.readyState?t.apply():document.addEventListener?document.addEventListener("DOMContentLoaded",t,!1):document.attachEvent&&document.attachEvent("onreadystatechange",t)}}(),jQuery(document).ready(function(e,t){var i,n=e("li#wp-admin-bar-blog.menupop, li#wp-admin-bar-newdash.menupop, li#wp-admin-bar-my-account.menupop");e("#wp-admin-bar-new-post-types");n.unbind("mouseenter mouseleave").removeProp("hoverIntent_t").removeProp("hoverIntent_s").on("mouseover",function(t){var i=e(t.target).closest("li.menupop");n.not(i).removeClass("ab-hover"),i.toggleClass("ab-hover")}).on("click touchstart",function(t){var n=e(t.target);i.focusSubMenus(n)||(t.preventDefault(),i.toggleMenu(n))}),i={focusSubMenus:function(e){return!e.closest("ul").hasClass("ab-top-menu")&&(e.closest("li"),!0)},toggleMenu:function(t){var n=t.closest("li.menupop"),a=e("html");e("body").off("click.ab-menu"),e("#wpadminbar li.menupop").not(n).removeClass("ab-active wpnt-stayopen wpnt-show"),n.hasClass("ab-active")?(n.removeClass("ab-active"),a.removeClass("ab-menu-open")):(n.addClass("ab-active"),a.addClass("ab-menu-open"),e("body").on("click.ab-menu",function(t){e(t.target).parents("#wpadminbar").length||(t.preventDefault(),i.toggleMenu(n),e("body").off("click.ab-menu"))}))}}}),function(e){function t(e){e=e||{},window._tkq=window._tkq||[],window._tkq.push(["recordEvent",i,e])}var i="wpcom_masterbar_click",n={"wp-admin-bar-blog":"my_sites","wp-admin-bar-newdash":"reader","wp-admin-bar-ab-new-post":"write_button","wp-admin-bar-my-account":"my_account","wp-admin-bar-notes":"notifications","wp-admin-bar-switch-site":"my_sites_switch_site","wp-admin-bar-blog-info":"my_sites_site_info","wp-admin-bar-site-view":"my_sites_view_site","wp-admin-bar-blog-stats":"my_sites_site_stats","wp-admin-bar-plan":"my_sites_plan","wp-admin-bar-plan-badge":"my_sites_plan_badge","wp-admin-bar-edit-page":"my_sites_manage_site_pages","wp-admin-bar-new-page-badge":"my_sites_manage_add_page","wp-admin-bar-edit-post":"my_sites_manage_blog_posts","wp-admin-bar-new-post-badge":"my_sites_manage_add_post","wp-admin-bar-edit-attachment":"my_sites_manage_media","wp-admin-bar-new-attachment-badge":"my_sites_manage_add_media","wp-admin-bar-comments":"my_sites_manage_comments","wp-admin-bar-edit-jetpack-testimonial":"my_sites_manage_testimonials","wp-admin-bar-new-jetpack-testimonial":"my_sites_manage_add_testimonial","wp-admin-bar-edit-jetpack-portfolio":"my_sites_manage_portfolio","wp-admin-bar-new-jetpack-portfolio":"my_sites_manage_add_portfolio","wp-admin-bar-themes":"my_sites_personalize_themes","wp-admin-bar-cmz":"my_sites_personalize_themes_customize","wp-admin-bar-sharing":"my_sites_configure_sharing","wp-admin-bar-people":"my_sites_configure_people","wp-admin-bar-people-add":"my_sites_configure_people_add_button","wp-admin-bar-plugins":"my_sites_configure_plugins","wp-admin-bar-domains":"my_sites_configure_domains","wp-admin-bar-domains-add":"my_sites_configure_add_domain","wp-admin-bar-blog-settings":"my_sites_configure_settings","wp-admin-bar-legacy-dashboard":"my_sites_configure_wp_admin","wp-admin-bar-followed-sites":"reader_followed_sites","wp-admin-bar-reader-followed-sites-manage":"reader_manage_followed_sites","wp-admin-bar-discover-discover":"reader_discover","wp-admin-bar-discover-search":"reader_search","wp-admin-bar-my-activity-my-likes":"reader_my_likes","wp-admin-bar-user-info":"my_account_user_name","wp-admin-bar-my-profile":"my_account_profile_my_profile","wp-admin-bar-account-settings":"my_account_profile_account_settings","wp-admin-bar-billing":"my_account_profile_manage_purchases","wp-admin-bar-security":"my_account_profile_security","wp-admin-bar-notifications":"my_account_profile_notifications","wp-admin-bar-get-apps":"my_account_special_get_apps","wp-admin-bar-next-steps":"my_account_special_next_steps","wp-admin-bar-help":"my_account_special_help"};e(document).ready(function(){e(".mb-trackable .ab-item:not(div),#wp-admin-bar-notes .ab-item,#wp-admin-bar-user-info .ab-item,.mb-trackable .ab-secondary").on("click touchstart",function(i){var a=e(i.target),r=a.closest("li");if(r){var o=a.attr("ID")||r.attr("ID");n.hasOwnProperty(o)&&t({clicked:n[o]})}})})}(jQuery),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var i,n=document.createElement(e||"div");for(i in t)n[i]=t[i];return n}function t(e){for(var t=1,i=arguments.length;t<i;t++)e.appendChild(arguments[t]);return e}function i(e,t,i,n){var a=["opacity",t,~~(100*e),i,n].join("-"),r=.01+i/n*100,o=Math.max(1-(1-e)/t*(100-r),e),s=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=s&&"-"+s+"-"||"";return d[a]||(u.insertRule("@"+c+"keyframes "+a+"{0%{opacity:"+o+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",u.cssRules.length),d[a]=1),a}function n(e,t){var i,n,a=e.style;if(void 0!==a[t])return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<c.length;n++)if(i=c[n]+t,void 0!==a[i])return i}function a(e,t){for(var i in t)e.style[n(e,i)||i]=t[i];return e}function r(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)void 0===e[n]&&(e[n]=i[n])}return e}function o(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function s(e){if(void 0===this)return new s(e);this.opts=r(e||{},s.defaults,p)}var l,c=["webkit","Moz","ms","O"],d={},u=function(){var i=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};s.defaults={},r(s.prototype,{spin:function(t){this.stop();var i,n,r=this,s=r.opts,c=r.el=a(e(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),d=s.radius+s.length+s.width;if(t&&(t.insertBefore(c,t.firstChild||null),n=o(t),i=o(c),a(c,{left:("auto"==s.left?n.x-i.x+(t.offsetWidth>>1):parseInt(s.left,10)+d)+"px",top:("auto"==s.top?n.y-i.y+(t.offsetHeight>>1):parseInt(s.top,10)+d)+"px"})),c.setAttribute("role","progressbar"),r.lines(c,r.opts),!l){var u,p=0,m=(s.lines-1)*(1-s.direction)/2,f=s.fps,v=f/s.speed,h=(1-s.opacity)/(v*s.trail/100),g=v/s.lines;!function e(){p++;for(var t=0;t<s.lines;t++)u=Math.max(1-(p+(s.lines-t)*g)%v*h,s.opacity),r.opacity(c,t*s.direction+m,u,s);r.timeout=r.el&&setTimeout(e,~~(1e3/f))}()}return r},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(n,r){function o(t,i){return a(e(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*c+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var s,c=0,d=(r.lines-1)*(1-r.direction)/2;c<r.lines;c++)s=a(e(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:l&&i(r.opacity,r.trail,d+c*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(s,a(o("#000","0 0 4px #000"),{top:"2px"})),t(n,t(s,o(r.color,"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}});var m=a(e("group"),{behavior:"url(#default#VML)"});return!n(m,"transform")&&m.adj?function(){function i(t,i){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}u.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,n){function r(){return a(i("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function o(e,o,s){t(u,t(a(r(),{rotation:360/n.lines*e+"deg",left:~~o}),t(a(i("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),i("fill",{color:n.color,opacity:n.opacity}),i("stroke",{opacity:0}))))}var s,l=n.length+n.width,c=2*l,d=2*-(n.width+n.length)+"px",u=a(r(),{position:"absolute",top:d,left:d});if(n.shadow)for(s=1;s<=n.lines;s++)o(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)o(s);return t(e,u)},s.prototype.opacity=function(e,t,i,n){var a=e.firstChild;n=n.shadow&&n.lines||0,a&&t+n<a.childNodes.length&&(a=(a=(a=a.childNodes[t+n])&&a.firstChild)&&a.firstChild)&&(a.opacity=i)}}():l=n(m,"animation"),s}),function(e){if("object"==typeof exports)e(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],e);else{if(!window.Spinner)throw new Error("Spin.js not present");e(window.jQuery,window.Spinner)}}(function(e,t){e.fn.spin=function(i,n){return this.each(function(){var a=e(this),r=a.data();if(r.spinner&&(r.spinner.stop(),delete r.spinner),!1!==i){if(void 0!==(i=e.extend({color:n||a.css("color")},e.fn.spin.presets[i]||i)).right&&void 0!==i.length&&void 0!==i.width&&void 0!==i.radius){var o=a.css("padding-left");o=void 0===o?0:parseInt(o,10),i.left=a.outerWidth()-2*(i.length+i.width+i.radius)-o-i.right,delete i.right}r.spinner=new t(i).spin(this)}})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}),function(e){e.fn.spin.presets.wp={trail:60,speed:1.3},e.fn.spin.presets.small=e.extend({lines:8,length:2,width:2,radius:3},e.fn.spin.presets.wp),e.fn.spin.presets.medium=e.extend({lines:8,length:4,width:3,radius:5},e.fn.spin.presets.wp),e.fn.spin.presets.large=e.extend({lines:10,length:6,width:4,radius:7},e.fn.spin.presets.wp),e.fn.spin.presets["small-left"]=e.extend({left:5},e.fn.spin.presets.small),e.fn.spin.presets["small-right"]=e.extend({right:5},e.fn.spin.presets.small),e.fn.spin.presets["medium-left"]=e.extend({left:5},e.fn.spin.presets.medium),e.fn.spin.presets["medium-right"]=e.extend({right:5},e.fn.spin.presets.medium),e.fn.spin.presets["large-left"]=e.extend({left:5},e.fn.spin.presets.large),e.fn.spin.presets["large-right"]=e.extend({right:5},e.fn.spin.presets.large)}(jQuery),function(e){e.fn.touchwipe=function(t){var i={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return t&&e.extend(i,t),this.each(function(){function e(){this.removeEventListener("touchmove",t),n=null,r=!1}function t(t){if(i.preventDefaultEvents&&t.preventDefault(),r){var o=t.touches[0].pageX,s=t.touches[0].pageY,l=n-o,c=a-s;Math.abs(l)>=i.min_move_x?(e(),l>0?i.wipeLeft(t):i.wipeRight(t)):Math.abs(c)>=i.min_move_y&&(e(),c>0?i.wipeDown(t):i.wipeUp(t))}}var n,a,r=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",function(e){1===e.touches.length&&(n=e.touches[0].pageX,a=e.touches[0].pageY,r=!0,this.addEventListener("touchmove",t,!1))},!1)}),this}}(jQuery);
//# sourceMappingURL=maps/detect-zoom.js.map
